/* Prevent flashing by hiding until mode is determined */
html {
  visibility: hidden;
}

/* Dark mode styles */
html.darkbuddy-on {
  background: #1a1a1a !important;
  color-scheme: dark;
}

html.darkbuddy-on body {
  filter: invert(0.9) hue-rotate(180deg);
  forced-color-adjust: none !important;
}

html.darkbuddy-on picture,
html.darkbuddy-on video,
html.darkbuddy-on canvas,
html.darkbuddy-on img:not([aria-hidden="true"]),
html.darkbuddy-on [style*="background-image"],
html.darkbuddy-on [role*="img"],
html.darkbuddy-on iframe {
  filter: invert(1) hue-rotate(180deg);
}

html[data-turbo-loaded],
html.darkbuddy-on {
  visibility: visible;
}
